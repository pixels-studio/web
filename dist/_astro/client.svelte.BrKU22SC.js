import{a6 as Z,d as q,a3 as ee,x as W,V as te,a7 as C,a4 as T,i as c,h as u,a8 as w,b as se,a as z,C as F,H as ie,m as g,a9 as x,A as S,c as G,aa as re,ab as Y,ac as I,ad as P,ae as ne,af as ae,T as U,ag as oe,ah as B,ai as he,aj as H,ak as fe,k as le,F as k,s as R,al as de,e as _e,am as L,an as ce,ao as ue,ap as pe,aq as ge,ar as ve,as as N,g as J,at as ye,G as me,au as $,f as m,av as be,D as Ee,t as Te,aw as we,O as Re,ax as K,j as Ae,ay as xe,M as Se,az as ke,aA as De,aB as Ne}from"./template.CnbdTcNy.js";import{a as $e,r as j,h as V}from"./events.CSXg3HHw.js";function Oe(i){let e=0,t=W(0),r;return()=>{Z()&&(q(t),ee(()=>(e===0&&(r=te(()=>i(()=>C(t)))),e+=1,()=>{T(()=>{e-=1,e===0&&(r?.(),r=void 0,C(t))})})))}}var Fe=ue|pe|ge;function Me(i,e,t){new Ce(i,e,t)}class Ce{parent;is_pending=!1;#t;#y=u?c:null;#i;#l;#r;#s=null;#e=null;#n=null;#a=null;#f=null;#d=0;#o=0;#c=!1;#_=!1;#u=new Set;#p=new Set;#h=null;#E=Oe(()=>(this.#h=W(this.#d),()=>{this.#h=null}));constructor(e,t,r){this.#t=e,this.#i=t,this.#l=r,this.parent=w.b,this.is_pending=!!this.#i.pending,this.#r=se(()=>{if(w.b=this,u){const s=this.#y;z(),s.nodeType===F&&s.data===ie?this.#w():(this.#T(),this.#o===0&&(this.is_pending=!1))}else{var n=this.#m();try{this.#s=g(()=>r(n))}catch(s){this.error(s)}this.#o>0?this.#v():this.is_pending=!1}return()=>{this.#f?.remove()}},Fe),u&&(this.#t=c)}#T(){try{this.#s=g(()=>this.#l(this.#t))}catch(e){this.error(e)}}#w(){const e=this.#i.pending;e&&(this.#e=g(()=>e(this.#t)),T(()=>{var t=this.#m();this.#s=this.#g(()=>(x.ensure(),g(()=>this.#l(t)))),this.#o>0?this.#v():(S(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#m(){var e=this.#t;return this.is_pending&&(this.#f=G(),this.#t.before(this.#f),e=this.#f),e}defer_effect(e){re(e,this.#u,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#i.pending}#g(e){var t=w,r=ae,n=U;Y(this.#r),I(this.#r),P(this.#r.ctx);try{return e()}catch(s){return ne(s),null}finally{Y(t),I(r),P(n)}}#v(){const e=this.#i.pending;this.#s!==null&&(this.#a=document.createDocumentFragment(),this.#a.append(this.#f),oe(this.#s,this.#a)),this.#e===null&&(this.#e=g(()=>e(this.#t)))}#b(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(e);return}if(this.#o+=e,this.#o===0){this.is_pending=!1;for(const t of this.#u)B(t,he),H(t);for(const t of this.#p)B(t,fe),H(t);this.#u.clear(),this.#p.clear(),this.#e&&S(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null)}}update_pending_count(e){this.#b(e),this.#d+=e,!(!this.#h||this.#c)&&(this.#c=!0,T(()=>{this.#c=!1,this.#h&&le(this.#h,this.#d)}))}get_effect_pending(){return this.#E(),q(this.#h)}error(e){var t=this.#i.onerror;let r=this.#i.failed;if(this.#_||!t&&!r)throw e;this.#s&&(k(this.#s),this.#s=null),this.#e&&(k(this.#e),this.#e=null),this.#n&&(k(this.#n),this.#n=null),u&&(R(this.#y),de(),R(_e()));var n=!1,s=!1;const a=()=>{if(n){ve();return}n=!0,s&&ce(),x.ensure(),this.#d=0,this.#n!==null&&S(this.#n,()=>{this.#n=null}),this.is_pending=this.has_pending_snippet(),this.#s=this.#g(()=>(this.#_=!1,g(()=>this.#l(this.#t)))),this.#o>0?this.#v():this.is_pending=!1};T(()=>{try{s=!0,t?.(e,a),s=!1}catch(o){L(o,this.#r&&this.#r.parent)}r&&(this.#n=this.#g(()=>{x.ensure(),this.#_=!0;try{return g(()=>{r(this.#t,()=>e,()=>a)})}catch(o){return L(o,this.#r.parent),null}finally{this.#_=!1}}))})}}const Ye=["touchstart","touchmove"];function Ie(i){return Ye.includes(i)}function Q(i,e){return X(i,e)}function Pe(i,e){N(),e.intro=e.intro??!1;const t=e.target,r=u,n=c;try{for(var s=J(t);s&&(s.nodeType!==F||s.data!==ye);)s=me(s);if(!s)throw $;m(!0),R(s);const a=X(i,{...e,anchor:s});return m(!1),a}catch(a){if(a instanceof Error&&a.message.split(`
`).some(o=>o.startsWith("https://svelte.dev/e/")))throw a;return a!==$&&console.warn("Failed to hydrate: ",a),e.recover===!1&&be(),N(),Ee(t),m(!1),Q(i,e)}finally{m(r),R(n)}}const b=new Map;function X(i,{target:e,anchor:t,props:r={},events:n,context:s,intro:a=!0}){N();var o=new Set,_=p=>{for(var l=0;l<p.length;l++){var h=p[l];if(!o.has(h)){o.add(h);var y=Ie(h);for(const A of[e,document]){var d=b.get(A);d===void 0&&(d=new Map,b.set(A,d));var M=d.get(h);M===void 0?(A.addEventListener(h,V,{passive:y}),d.set(h,1)):d.set(h,M+1)}}}};_(Te($e)),j.add(_);var f=void 0,v=we(()=>{var p=t??e.appendChild(G());return Me(p,{pending:()=>{}},l=>{Re({});var h=U;if(s&&(h.c=s),n&&(r.$$events=n),u&&K(l,null),f=i(l,r)||{},u&&(w.nodes.end=c,c===null||c.nodeType!==F||c.data!==Ae))throw xe(),$;Se()}),()=>{for(var l of o)for(const d of[e,document]){var h=b.get(d),y=h.get(l);--y==0?(d.removeEventListener(l,V),h.delete(l),h.size===0&&b.delete(d)):h.set(l,y)}j.delete(_),p!==t&&p.parentNode?.removeChild(p)}});return O.set(f,v),f}let O=new WeakMap;function Be(i,e){const t=O.get(i);return t?(O.delete(i),t(e)):Promise.resolve()}function E(i){return(e,...t)=>{var r=i(...t),n;if(u)n=c,z();else{var s=r.render().trim(),a=ke(s,!0);n=J(a),e.before(n)}const o=r.setup?.(n);K(n,n),typeof o=="function"&&De(o)}}const D=new WeakMap;var Ve=i=>async(e,t,r,{client:n})=>{if(!i.hasAttribute("ssr"))return;let s,a,o={};for(const[f,v]of Object.entries(r))a??={},f==="default"?(a.default=!0,s=E(()=>({render:()=>`<astro-slot>${v}</astro-slot>`}))):a[f]=E(()=>({render:()=>`<astro-slot name="${f}">${v}</astro-slot>`})),f==="default"?o.children=E(()=>({render:()=>`<astro-slot>${v}</astro-slot>`})):o[f]=E(()=>({render:()=>`<astro-slot name="${f}">${v}</astro-slot>`}));const _={...t,children:s,$$slots:a,...o};if(D.has(i))D.get(i).setProps(_);else{const f=He(e,i,_,n!=="only");D.set(i,f),i.addEventListener("astro:unmount",()=>f.destroy(),{once:!0})}};function He(i,e,t,r){let n=Ne(t);const s=r?Pe:Q;r||(e.innerHTML="");const a=s(i,{target:e,props:n});return{setProps(o){Object.assign(n,o);for(const _ in n)_ in o||delete n[_]},destroy(){Be(a)}}}export{Ve as default};
