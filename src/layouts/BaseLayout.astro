---
import { ClientRouter } from 'astro:transitions';
import '../styles/global.css';
import Grid from '@components/common/Grid.svelte';
import faviconSvg from '@assets/favicon.svg';

interface Props {
	title: string;
	description: string;
}

const { title, description } = Astro.props;
---

<html lang="en" class="scroll-smooth">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/favicon.png" />
		<link rel="icon" type="image/svg+xml" href={faviconSvg.src} />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:image" content="https://media.pixels.studio/open-graph.png" />
		<title>{title}</title>
		<meta name="description" content={description} />
		<ClientRouter />
		<script>
			document.documentElement.classList.add('js');
		</script>
	</head>
	<body class="bg-base-0 text-base-10 antialiased">
		<slot />
		<Grid client:idle />
		<script>
			import { inject } from '@vercel/analytics';
			inject();
		</script>
	</body>
</html>

<style is:global>
	@media (prefers-reduced-motion: no-preference) {
		::view-transition-old(root),
		::view-transition-new(root) {
			animation: none;
		}

		::view-transition-group(*) {
			animation-duration: 600ms;
			animation-timing-function: var(--ease-smooth);
		}

		.work-cover {
			view-transition-class: work-cover;
		}

		::view-transition-group(.work-cover) {
			z-index: 100;
		}
	}

	html.instant-transition ::view-transition-group(*),
	html.instant-transition ::view-transition-old(*),
	html.instant-transition ::view-transition-new(*) {
		animation-duration: 0s !important;
	}

	@media (prefers-reduced-motion) {
		::view-transition-group(*),
		::view-transition-old(*),
		::view-transition-new(*) {
			animation: none !important;
		}
	}
</style>
